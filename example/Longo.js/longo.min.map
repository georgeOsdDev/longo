{"version":3,"file":"longo.min.js","sources":["../src/longo.js"],"names":["module","exports","_","require","Promise","EventEmitter","global","undefined","parseError","obj","Longo","Error","code","message","stack","wnd","VERSION","LONGOROOT","WORKERJS","LOGLEVEL","Status","CREATED","STARTED","STOPPED","DELETED","this","UNEXPECTED_ERROR","EXECUTION_ERROR","WEBWORKER_ERROR","INVALID_QUERY","COLLECTION_NOT_FOUND","COLLECTION_ALREADY_EXISTS","COLLECTION_NOT_STARTED","DUPLICATE_KEY_ERROR","DOCUMENT_NOT_FOUND","MOD_ID_NOT_ALLOWED","NOT_SUPPOETRD","EVAL_ERROR","INVALID_MODIFIER_SPECIFIED","PARSE_ERROR","ErrorCds","invert","Utils","ab2str","buf","String","fromCharCode","apply","Uint16Array","str2ab","str","ArrayBuffer","length","bufView","i","strLen","charCodeAt","buffer","inherits","ctor","superCtor","_super","prototype","Object","create","constructor","value","enumerable","writable","configurable","createLogger","prefix","loglevel","lookup","log","debug","info","warn","error","_logger","level","toLowerCase","console","bind","noop","asNoop","aSlice","Array","slice","toArray","isArray","existy","val","truthy","isTrue","isFalse","isNegativeNum","isNumber","isZero","isOne","isPositiveNum","doWhen","cond","action","values","context","arr","doWhenOrElse","alternative","getOrElse","els","checkOrElse","pred","tryParseJSON","result","JSON","parse","e","objectId","lastNow","Date","now","seq","CHARS","split","id","n","Number","shuffle","join","substr","dataFromId","uuid","s4","Math","floor","random","toString","substring","defer","f","done","reject","clone","copy","attr","hasOwnProperty","deepClone","nextTick","func","setTimeout","dom","document","createDocumentFragment","listners","addEventListener","arguments","removeEventListener","dispatchEvent","args","name","detail","cev","CustomEvent","on","off","unbind","emit","trigger","DB","call","lastError","currentOpId","collections","logger","getCollectionNames","keys","getCollection","collection","createCollection","option","_createCollectionWithData","dataset","cname","opt","coll","Collection","_initialize","lastData","initData","localStorage","getItem","dropDatabase","each","drop","_dropDB","cloneCollection","from","query","self","isFunction","cloneCb","data","find","currentOp","getLastError","getLastErrorObj","killOp","opId","tokens","cbs","observers","getName","db","capped","size","max","storeFunction","-1","worker","Worker","getRoot","postMessage","webkitPostMessage","_onMessage","_onError","status","isCapped","setDefaultErrorHandler","parsist","onValue","setItem","stringify","parsistOnce","response","isUpdated","ob","_send","lineno","filename","preventDefault","_dataset","msg","cmds","cmd","_getNextSeq","nextSeq","cb","observe","callbackFunc","json","bytes","projection","Cursor","findOne","aggregate","pipeline","key","cursor","op","project","match","skip","unwind","group","sort","save","doc","insert","remove","justOne","update","terminate","count","dataSize","totalSize","copyTo","newCollection","newColl","error2","dene","renameCollection","distinct","findAndModify","mapReduce","wrapCb","push","callback","userCallback","invoke","skipDuplicates","some","contains","cache","hash","isEqual","assign","elementSelector","template","target","html","querySelector","innerHTML","promise","resolve","forEach","limit","num","map","indexBounds","min","sorter","grouping","getVersion","setRoot","root","scripts","getElementsByTagName","src","useMinified","setLogLevel","dbs","createDB","dname","has","use"],"mappings":"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"}